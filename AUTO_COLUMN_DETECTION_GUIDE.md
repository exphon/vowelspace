# ìë™ ì»¬ëŸ¼ ê°ì§€ ê¸°ëŠ¥ ì‚¬ìš© ê°€ì´ë“œ

## ğŸ¯ ê°œìš”

Vowel Space VisualizerëŠ” ì´ì œ **ì§€ëŠ¥í˜• ìë™ ì»¬ëŸ¼ ê°ì§€** ê¸°ëŠ¥ì„ ì§€ì›í•©ë‹ˆë‹¤! 
ë‹¤ì–‘í•œ í˜•ì‹ì˜ ë°ì´í„° íŒŒì¼ì„ ì—…ë¡œë“œí•˜ë©´ ì‹œìŠ¤í…œì´ ìë™ìœ¼ë¡œ í•„ìš”í•œ ì»¬ëŸ¼ì„ ì°¾ì•„ì„œ ì²˜ë¦¬í•©ë‹ˆë‹¤.

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### 1. ë‹¤ì–‘í•œ ì»¬ëŸ¼ëª… ìë™ ì¸ì‹

ë” ì´ìƒ ì»¬ëŸ¼ ì´ë¦„ì„ ì •í™•íˆ ë§ì¶œ í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤! ë‹¤ìŒê³¼ ê°™ì€ ë‹¤ì–‘í•œ ì´ë¦„ì„ ìë™ìœ¼ë¡œ ì¸ì‹í•©ë‹ˆë‹¤:

| ìš©ë„ | ì¸ì‹ë˜ëŠ” ì»¬ëŸ¼ëª… ì˜ˆì‹œ |
|------|---------------------|
| **F1 í¬ë¨¼íŠ¸** | `f1`, `F1`, `first_formant`, `formant_1`, `F1_Hz`, `f1_frequency` |
| **F2 í¬ë¨¼íŠ¸** | `f2`, `F2`, `second_formant`, `formant_2`, `F2_Hz`, `f2_frequency` |
| **ëª¨ìŒ** | `vowel`, `phone`, `phoneme`, `label`, `segment`, `ipa`, `v` |
| **í™”ì** | `speaker`, `participant`, `subject`, `informant`, `spk`, `id` |
| **ëª¨êµ­ì–´** | `native_language`, `L1`, `first_language`, `lang` |
| **ì‹œê°„** | `time`, `t`, `timestamp`, `time_point`, `sec` |

### 2. ê°’ ë²”ìœ„ ê¸°ë°˜ ìë™ ê°ì§€

ì»¬ëŸ¼ ì´ë¦„ì´ í‘œì¤€ê³¼ ë‹¤ë¥´ë”ë¼ë„ **ê°’ì˜ ë²”ìœ„**ë¥¼ ë¶„ì„í•˜ì—¬ ìë™ìœ¼ë¡œ ê°ì§€í•©ë‹ˆë‹¤:

- **F1**: 200-1000 Hz ë²”ìœ„ì˜ ìˆ«ì â†’ ìë™ìœ¼ë¡œ F1ë¡œ ì¸ì‹
- **F2**: 800-3000 Hz ë²”ìœ„ì˜ ìˆ«ì â†’ ìë™ìœ¼ë¡œ F2ë¡œ ì¸ì‹
- **ëª¨ìŒ**: 1-5ê¸€ìì˜ ì§§ì€ ë¬¸ìì—´ â†’ ìë™ìœ¼ë¡œ ëª¨ìŒ ë ˆì´ë¸”ë¡œ ì¸ì‹

## ğŸ“‹ ì‚¬ìš© ì˜ˆì‹œ

### ì˜ˆì‹œ 1: ì—°êµ¬ì‹¤ Aì˜ ë°ì´í„°

```csv
phoneme,first_formant,second_formant,participant,L1
i,300,2300,Subject_01,Korean
e,450,2100,Subject_01,Korean
```

âœ… **ìë™ ê°ì§€ ê²°ê³¼:**
- `phoneme` â†’ `vowel`
- `first_formant` â†’ `F1`
- `second_formant` â†’ `F2`
- `participant` â†’ `speaker`
- `L1` â†’ `native_language`

### ì˜ˆì‹œ 2: ì—°êµ¬ì‹¤ Bì˜ ë°ì´í„°

```csv
v,f1_frequency,f2_frequency,spk,lang
i,300,2300,SP01,Korean
e,450,2100,SP01,Korean
```

âœ… **ìë™ ê°ì§€ ê²°ê³¼:**
- `v` â†’ `vowel`
- `f1_frequency` â†’ `F1`
- `f2_frequency` â†’ `F2`
- `spk` â†’ `speaker`
- `lang` â†’ `native_language`

### ì˜ˆì‹œ 3: ì»¬ëŸ¼ëª…ì´ ì—†ëŠ” ìˆ«ì ë°ì´í„°

```csv
vowel,300,2300
vowel2,450,2100
```

âœ… **ìë™ ê°ì§€ ê²°ê³¼:**
- ì‹œìŠ¤í…œì´ ê°’ì˜ ë²”ìœ„(300ì€ F1, 2300ì€ F2)ë¥¼ ë¶„ì„í•˜ì—¬ ìë™ìœ¼ë¡œ í¬ë¨¼íŠ¸ ì»¬ëŸ¼ ê°ì§€

## ğŸ” ê°ì§€ ê²°ê³¼ í™•ì¸

íŒŒì¼ ì—…ë¡œë“œ í›„ **"ë°ì´í„° ìš”ì•½"** ì„¹ì…˜ì—ì„œ ë‹¤ìŒ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```
ìë™ ê°ì§€ëœ ì»¬ëŸ¼:
  - F1: "first_formant" (ë²”ìœ„: 250-850 Hz, í‰ê· : 450 Hz)
  - F2: "second_formant" (ë²”ìœ„: 800-2500 Hz, í‰ê· : 1650 Hz)
  - vowel: "phone" (ê³ ìœ ê°’ 5ê°œ) [ì˜ˆ: i, e, a, o, u]
  - speaker: "participant" (ê³ ìœ ê°’ 3ê°œ) [ì˜ˆ: SP01, SP02, SP03]
  - native_language: "L1" (ê³ ìœ ê°’ 2ê°œ) [ì˜ˆ: Korean, English]
```

## ğŸ“Š í…ŒìŠ¤íŠ¸ ë°ì´í„°

í”„ë¡œì íŠ¸ì—ëŠ” ë‹¤ì–‘í•œ í˜•ì‹ì˜ í…ŒìŠ¤íŠ¸ ë°ì´í„°ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤:

```bash
/var/www/html/vowelspace/test/
  â”œâ”€â”€ test_format1.csv    # í‘œì¤€ í˜•ì‹ (F1, F2, vowel, speaker, L1)
  â”œâ”€â”€ test_format2.csv    # ìƒì„¸ í˜•ì‹ (f1_frequency, phone, participant)
  â”œâ”€â”€ test_format3.csv    # í•™ìˆ  í˜•ì‹ (first_formant, phoneme, subject_id)
  â”œâ”€â”€ test_format4.csv    # ì•½ì–´ í˜•ì‹ (f1, f2, v, spk)
  â””â”€â”€ test_multi_speaker.csv  # ë‹¤ì¤‘ í™”ì ë°ì´í„°
```

í…ŒìŠ¤íŠ¸ ë°©ë²•:
```bash
cd /var/www/html/vowelspace
python3 test_column_detection.py  # ì»¬ëŸ¼ ê°ì§€ í…ŒìŠ¤íŠ¸
python3 test_web_upload.py        # ì›¹ ì—…ë¡œë“œ í…ŒìŠ¤íŠ¸
```

## ğŸš€ ì‚¬ìš© ë°©ë²•

1. **ì›¹ ì¸í„°í˜ì´ìŠ¤ì—ì„œ:**
   - http://localhost:5000 ì ‘ì†
   - íŒŒì¼ ì—…ë¡œë“œ (ì–´ë–¤ ì»¬ëŸ¼ëª…ì´ë“  OK!)
   - ìë™ìœ¼ë¡œ ê°ì§€ëœ ì»¬ëŸ¼ í™•ì¸
   - ì‹œê°í™” ê²°ê³¼ í™•ì¸

2. **Python ì½”ë“œì—ì„œ:**
   ```python
   from utils.data_processor import process_csv_xlsx
   
   # auto_detect=True (ê¸°ë³¸ê°’)
   df, detection_info = process_csv_xlsx('your_data.csv', auto_detect=True)
   
   print(detection_info['detected'])  # ê°ì§€ëœ ì»¬ëŸ¼ ë§¤í•‘
   print(df.head())  # í‘œì¤€í™”ëœ ë°ì´í„°
   ```

## âš™ï¸ ê³ ê¸‰ ê¸°ëŠ¥

### ì§ì ‘ ì»¬ëŸ¼ ê°ì§€ ì‚¬ìš©

```python
from utils.column_detector import auto_detect_and_rename
import pandas as pd

# ë°ì´í„° ë¡œë“œ
df = pd.read_csv('your_data.csv')

# ìë™ ê°ì§€ ë° ì´ë¦„ ë³€ê²½
df_standardized, info = auto_detect_and_rename(df)

# ê°ì§€ ì •ë³´ í™•ì¸
print("ê°ì§€ëœ ì»¬ëŸ¼:", info['detected'])
print("ìƒì„¸ ì •ë³´:", info['details'])
```

### ì»¤ìŠ¤í…€ íŒ¨í„´ ì¶”ê°€

`utils/column_detector.py`ì˜ `PATTERNS` ë”•ì…”ë„ˆë¦¬ë¥¼ ìˆ˜ì •í•˜ì—¬ 
ì¶”ê°€ íŒ¨í„´ì„ ì¸ì‹í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```python
PATTERNS = {
    'F1': [
        r'^f1$', r'^F1$', 
        r'your_custom_pattern',  # ì—¬ê¸°ì— ì¶”ê°€
    ],
    # ...
}
```

## ğŸ’¡ íŒ

1. **í•„ìˆ˜ ì»¬ëŸ¼**: F1ê³¼ F2ëŠ” ë°˜ë“œì‹œ ê°ì§€ë˜ì–´ì•¼ í•©ë‹ˆë‹¤ (ì—†ìœ¼ë©´ ì˜¤ë¥˜)
2. **ì„ íƒ ì»¬ëŸ¼**: vowel, speaker, time ë“±ì€ ì„ íƒì‚¬í•­
3. **ìš°ì„ ìˆœìœ„**: íŒ¨í„´ ë§¤ì¹­ â†’ ê°’ ë²”ìœ„ ë¶„ì„ â†’ íœ´ë¦¬ìŠ¤í‹± ë¶„ì„ ìˆœìœ¼ë¡œ ì§„í–‰
4. **ì¤‘ë³µ ë°©ì§€**: í•œ ì»¬ëŸ¼ì€ í•˜ë‚˜ì˜ í‘œì¤€ëª…ì—ë§Œ ë§¤í•‘ë¨

## ğŸ› ë¬¸ì œ í•´ê²°

### Q: ì»¬ëŸ¼ì´ ì˜ëª» ê°ì§€ë˜ì—ˆì–´ìš”
**A:** ì»¬ëŸ¼ëª…ì„ ë” ëª…í™•í•˜ê²Œ ë³€ê²½í•˜ê±°ë‚˜, ê°’ì˜ ë²”ìœ„ë¥¼ í™•ì¸í•˜ì„¸ìš”.

### Q: F1/F2ê°€ ê°ì§€ë˜ì§€ ì•Šì•„ìš”
**A:** 
- ê°’ì´ ì ì ˆí•œ ë²”ìœ„(F1: 200-1000 Hz, F2: 800-3000 Hz)ì— ìˆëŠ”ì§€ í™•ì¸
- ì»¬ëŸ¼ëª…ì— 'f1', 'F1', 'formant' ë“±ì˜ í‚¤ì›Œë“œ í¬í•¨ ì—¬ë¶€ í™•ì¸

### Q: ì—¬ëŸ¬ ì»¬ëŸ¼ì´ ê°™ì€ í‘œì¤€ëª…ìœ¼ë¡œ ë§¤í•‘ë˜ì–´ìš”
**A:** ì‹œìŠ¤í…œì€ ì²« ë²ˆì§¸ë¡œ ë§¤ì¹­ëœ ì»¬ëŸ¼ë§Œ ì‚¬ìš©í•©ë‹ˆë‹¤. ì¤‘ë³µ ì»¬ëŸ¼ëª… ì œê±° í•„ìš”.

## ğŸ“š ì¶”ê°€ ìë£Œ

- [README.md](README.md) - ì „ì²´ í”„ë¡œì íŠ¸ ë¬¸ì„œ
- [utils/column_detector.py](utils/column_detector.py) - ê°ì§€ ì•Œê³ ë¦¬ì¦˜ ì†ŒìŠ¤ì½”ë“œ
- [test_column_detection.py](test_column_detection.py) - í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸

---

**Vowel Space Visualizer** - ì´ì œ ë°ì´í„° í˜•ì‹ ê±±ì • ì—†ì´ ì—°êµ¬ì— ì§‘ì¤‘í•˜ì„¸ìš”! ğŸµ
